<div class="modal-backdrop">
  <div class="modal-dialog">
    <div class="modal-header">
      <h2 class="modal-title">Edit Employee</h2>
      <button (click)="closeDialog()" type="button" class="close-btn">Ã—</button>
    </div>

    <form class="modal-form" #employeeForm="ngForm" (ngSubmit)="saveEmployee(employeeForm)">
      <div class="form-grid">
        <div class="form-group">
          <label for="firstName" class="form-label">First Name</label>
          <input
            type="text"
            id="firstName"
            name="firstName"
            [(ngModel)]="data.firstName"
            class="form-input"
            placeholder="Enter first name"
            required
            #firstNameInput="ngModel"
          />
          <div *ngIf="firstNameInput.invalid && (firstNameInput.dirty || firstNameInput.touched)" class="error-message">
            <div *ngIf="firstNameInput.errors?.['required']">First Name is required.</div>
          </div>
        </div>

        <div class="form-group">
          <label for="lastName" class="form-label">Last Name</label>
          <input
            type="text"
            id="lastName"
            [(ngModel)]="data.lastName"
            name="lastName"
            class="form-input"
            placeholder="Enter last name"
            required
            #lastNameInput="ngModel"
          />
          <div *ngIf="lastNameInput.invalid && (lastNameInput.dirty || lastNameInput.touched)" class="error-message">
            <div *ngIf="lastNameInput.errors?.['required']">Last Name is required.</div>
          </div>
        </div>

        <div class="form-group">
          <label for="age" class="form-label">Age</label>
          <input
            type="number"
            id="age"
            [(ngModel)]="data.age"
            name="age"
            class="form-input"
            placeholder="Enter age"
            required
            min="18"
            #ageInput="ngModel"
          />
          <div *ngIf="ageInput.invalid && (ageInput.dirty || ageInput.touched)" class="error-message">
            <div *ngIf="ageInput.errors?.['required']">Age is required.</div>
            <div *ngIf="ageInput.errors?.['min']">Age must be at least 18.</div>
          </div>
        </div>

        <div class="form-group">
          <label for="department" class="form-label">Department</label>
          <select
            id="department"
            [(ngModel)]="data.department"
            name="department"
            class="form-input"
            required
            #departmentInput="ngModel"
          >
            <option value="">Select department</option>
            <option
                *ngFor="let dept of departments"
              [value]="dept"
            >
              {{ dept }}
            </option>
          </select>
          <div *ngIf="departmentInput.invalid && (departmentInput.dirty || departmentInput.touched)" class="error-message">
            <div *ngIf="departmentInput.errors?.['required']">Department is required.</div>
          </div>
        </div>

        <div class="form-group">
          <label for="city" class="form-label">City</label>
          <select
            id="city"
            [(ngModel)]="data.city"
            name="city"
            class="form-input"
            required
            #cityInput="ngModel"
          >
            <option value="">Select city</option>
            <option
                *ngFor="let city of cities"
                [value]="city"
              >
                {{ city }}
              </option>
          </select>
          <div *ngIf="cityInput.invalid && (cityInput.dirty || cityInput.touched)" class="error-message">
            <div *ngIf="cityInput.errors?.['required']">City is required.</div>
          </div>
        </div>
      </div>

      <div class="form-group full-width">
        <label for="street" class="form-label">Street Address</label>
        <input
          type="text"
          id="street"
          name="street"
          [(ngModel)]="data.street"
          class="form-input"
          placeholder="Enter street address"
        />
      </div>

      <div *ngIf="errorMessage" class="error-message-box">
        {{ errorMessage }}
      </div>

      <div class="modal-actions">
        <button (click)="closeDialog()" type="button" class="btn btn-secondary">
          Cancel
        </button>
        <button type="submit" class="btn btn-primary">
          Save
        </button>
      </div>
    </form>
  </div>
</div>
